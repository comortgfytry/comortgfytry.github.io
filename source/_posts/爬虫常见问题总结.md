---
title: 爬虫常见问题总结
tags:
  - 爬虫
  - Python
categories: 爬虫
keywords: 爬虫 问题总结
abbrlink: 56515
date: 2023-07-25 15:48:48
---
# 爬取频率过高，网站限制ip访问
使用同一个ip进行数据爬取时，网站会检测是否为展示人类在进行访问(例如：验证码，图片操作，甚至直接禁止访问)
## 解决方法一：设置爬取时间间隔
最简单的解决办法是：
* 强制等待  
直接使用time.sleep()设置爬取间隔的时间，间隔时间也可以用random进行变化设置  
但如果是selenium进行爬取，还有更好的方式。
* 显示等待
```python
driver = webdriver.Chrome()
driver.get("url")
 
locator = (By.ID, "要等待的标签的ID")   # 这里也可以设置成其他属性：By.CLASS_NAME...
 
# 显式等待：每隔一段时间检测一次，直到超过最大等待时间，报错
WebDriverWait(driver, 最大等待时间，检测间隔时间).until(expected_conditions.presence_of_element_located(locator))
```

* 隐式等待

```python
driver = webdriver.Chrome()
# 隐式等待：设置一个最大等待时间。在该时间内，如果网页加载完成，就往下进行，否侧报超时加载
driver.implicitly_wait(最大等待时间) 
driver.get("url")
element = driver.find_element_by_id("标签ID")
```
## 解决方法二：设置IP池
这个需要去网上找。。。。

# 爬取效率低
普通爬虫都是单进程。如果爬取内容较多，可以使用分布式爬虫。
具体实现方式可以参考另一篇文章[点击跳转](分布式爬虫.html)

 
